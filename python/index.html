<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.62.2"><meta name=description content><link rel=icon href=/system/images/favicon.png type=image/png><title>python :: system</title><link href=/system/css/nucleus.css?1578516509 rel=stylesheet><link href=/system/css/fontawesome-all.min.css?1578516509 rel=stylesheet><link href=/system/css/hybrid.css?1578516509 rel=stylesheet><link href=/system/css/featherlight.min.css?1578516509 rel=stylesheet><link href=/system/css/perfect-scrollbar.min.css?1578516509 rel=stylesheet><link href=/system/css/auto-complete.css?1578516509 rel=stylesheet><link href=/system/css/atom-one-dark-reasonable.css?1578516509 rel=stylesheet><link href=/system/css/theme.css?1578516509 rel=stylesheet><link href=/system/css/hugo-theme.css?1578516509 rel=stylesheet><link href=/system/css/theme-red.css?1578516509 rel=stylesheet><script src=/system/js/jquery-3.3.1.min.js?1578516509></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/system/python/><nav id=sidebar><div id=header-wrapper><div id=header></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/system/js/lunr.min.js?1578516509></script><script type=text/javascript src=/system/js/auto-complete.js?1578516509></script><script type=text/javascript>var baseurl="http:\/\/wedgevine.github.io\/system\/";</script><script type=text/javascript src=/system/js/search.js?1578516509></script></div><div class=highlightable><ul class=topics><li data-nav-id=/system/python/ title=python class="dd-item
parent
active"><a href=/system/python/><b>1. </b>python</a></li><li data-nav-id=/system/bit/ title=bitwise class=dd-item><a href=/system/bit/>bitwise</a></li><li data-nav-id=/system/array/ class=dd-item><a href=/system/array/></a></li></ul><section id=footer></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span class=links><a href=/system/>algo</a> > python</span></div></div></div><div id=head-tags></div><div id=chapter><div id=body-inner><h2 id=data-type>data type</h2><h3 id=int>int</h3><p>in python 3, int has no limit, has infinite precision, thus has infinite bits.
in case infinity is needed (for init comparison), there are float(&lsquo;inf&rsquo;), float('-inf&rsquo;)
float(&lsquo;nan&rsquo;) can be used as initial value</p><ul><li><p>there are articles discussed about python integer object implementation
generally, int is implemented as an object, inside the object, there is an array
storing every digit of the int, the array length is only limited by memory of machine
<a href=https://rushter.com/blog/python-integer-implementation/>https://rushter.com/blog/python-integer-implementation/</a>
<a href=https://www.laurentluce.com/posts/python-integer-objects-implementation/>https://www.laurentluce.com/posts/python-integer-objects-implementation/</a></p></li><li><p>there is a good explaination in SO, why is &lsquo;1000000 in range(10000000)&rsquo; so fast
<a href="https://stackoverflow.com/questions/30081275/why-is-1000000000000000-in-range1000000000000001-so-fast-in-python-3?rq=1">https://stackoverflow.com/questions/30081275/why-is-1000000000000000-in-range1000000000000001-so-fast-in-python-3?rq=1</a>
range() is an object, which has a &lsquo;contain&rsquo; method, which can calculate if a number is
in the range, no need to scan through all numbers in the range</p></li></ul><h3 id=ternary>ternary</h3><p>&lt;expression 1> if else &lt;expression 2></p><h3 id=format-function>format function</h3><pre><code>print('value1 {}, value2 {}'.format(value1, value2))
</code></pre><h3 id=looping>looping</h3><p>Loop over a single list with a regular for-in:</p><pre><code>for n in numbers:
    print(n)
</code></pre><p>Loop over multiple lists at the same time with zip:</p><pre><code>for header, rows in zip(headers, columns):
    print(&quot;{}: {}&quot;.format(header, &quot;, &quot;.join(rows)))
</code></pre><p>Loop over a list while keeping track of indexes with enumerate:</p><pre><code>for num, line in enumerate(lines):
    print(&quot;{0:03d}: {}&quot;.format(num, line))
</code></pre><p><a href=https://treyhunner.com/2016/04/how-to-loop-with-indexes-in-python/>https://treyhunner.com/2016/04/how-to-loop-with-indexes-in-python/</a></p><h3 id=container-iterable-iterator-generator-and-iteration-tools-loop-list-comprehension-map-filter-all>container, iterable, iterator, generator and iteration tools: loop, list comprehension, map, filter, all</h3><ul><li>containers are data structures that holding elements and support membership tests, like list, str, tuple, dict, set</li><li>containers typically are iterable, many others are iterable as well, like file, socket (often for infinite source of data).
an iterable is any object that can return an iterator by calling iter() function for the iterable object</li><li>iterator, a stateful helper object that will produce the next value when call next() function for it, it is a lazy value factory,
only next() call will produce next value</li><li>a generator is always an iterator, an elegent iterator, not like ordinary iterator object, which has init, next, iter methods,
a generator is a function, without return value, but has a &ldquo;yield&rdquo; statement, the call to the generator function will return a generator
then this generator could be used as an iterator</li><li>besides generator function, a generator can also be a generator expression, with syntax like:
(expression for item in list if condition)
just like a list comprehension</li><li>iteration tools such as loop, list comprehension, all, filter, map functions can work with these iterable objects</li><li>specifically, steam objects are better to dealt as an iterable object, a lazy data factory</li></ul><p><a href=https://nvie.com/posts/iterators-vs-generators/>https://nvie.com/posts/iterators-vs-generators/</a></p><ul><li>PEP 8 style guide for For sequences, (strings, lists, tuples), use the fact that empty sequences are false.</li></ul><pre><code>if not seq:
if seq:
</code></pre><h3 id=collections>collections</h3><h4 id=namedtuple>namedtuple</h4><p><a href=https://dbader.org/blog/writing-clean-python-with-namedtuples>https://dbader.org/blog/writing-clean-python-with-namedtuples</a>
<em>A good way to view them is to think that namedtuples are a
memory-efficient shortcut to defining an immutable class in
Python manually.</em></p><pre><code>from collections import namedtuple
Point = namedtuple('Point', ['x', 'y'])
</code></pre><p><a href=https://stackoverflow.com/questions/40632750/whats-the-difference-between-enum-and-namedtuple>https://stackoverflow.com/questions/40632750/whats-the-difference-between-enum-and-namedtuple</a>
mentioned the benefits of namedtuple, which is used for many objects with same type. object
attributes can be accessed by name, instead of by index. point.x, vs point[0]</p><h4 id=deque>deque</h4><p>a generalization of stack and queue, deque, double-ended queue, support append/pop for either side of the deque with O(1) performance.</p><ul><li>append() add to right side</li><li>pop() remove from right side</li><li>appendleft() add to the left side</li><li>popleft() remove from left side</li></ul><h4 id=itertools-module>itertools module</h4><ul><li>itertools.groupby(iterable, key=None), sort data first
<a href=https://stackoverflow.com/questions/773/how-do-i-use-itertools-groupby>https://stackoverflow.com/questions/773/how-do-i-use-itertools-groupby</a><pre><code>groups = []
uniquekeys = []
data = sorted(data, key=keyfunc)
for k, g in groupby(data, keyfunc):
    groups.append(list(g))      # Store group iterator as a list
    uniquekeys.append(k)
</code></pre></li></ul><h3 id=lambda>lambda</h3><p><a href=https://realpython.com/python-lambda/>https://realpython.com/python-lambda/</a>
just amonymous function</p><h3 id=function>function</h3><h4 id=all>all</h4><p>example, to check if an array a is palindromic:</p><pre><code>return all(a[i] == a[-i] for i in range(len(a) // 2))
</code></pre><p>function all() takes a single parameter with iterable type,
the above generator expression is a generator, which
is always an iterator and an iterator is always an iterable objec</p><h4 id=reduce>reduce</h4><p>import functools
functools.reduce(
lambda x, ele: x + ele,
iterable,
init_value
)
like:
x = init_value
for ele in iterable:
x += ele</p><h4 id=f-function>f function</h4><p><a href=https://realpython.com/python-f-strings/>https://realpython.com/python-f-strings/</a></p><h3 id=class>class</h3><pre><code>class Dog:
    def __init__(self, name):
        self.name = name
        self.tricks = []

    def add_trick(self, trick):
        self.tricks.append(trick)
</code></pre><p>to make sure two variables are referring to the same object, using &ldquo;is&rdquo;, for reference equality testing</p><pre><code>f1 = Foo()
f2 = Foo()
print f1 is f2
</code></pre><footer class=footline></footer></div></div></div><div id=navigation><a class="nav nav-prev" href=/system/ title=algo><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=/system/bit/ title=bitwise style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/system/js/clipboard.min.js?1578516509></script><script src=/system/js/perfect-scrollbar.min.js?1578516509></script><script src=/system/js/perfect-scrollbar.jquery.min.js?1578516509></script><script src=/system/js/jquery.sticky.js?1578516509></script><script src=/system/js/featherlight.min.js?1578516509></script><script src=/system/js/highlight.pack.js?1578516509></script><script>hljs.initHighlightingOnLoad();</script><script src=/system/js/modernizr.custom-3.6.0.js?1578516509></script><script src=/system/js/learn.js?1578516509></script><script src=/system/js/hugo-learn.js?1578516509></script><link href=/system/mermaid/mermaid.css?1578516509 rel=stylesheet><script src=/system/mermaid/mermaid.js?1578516509></script><script>mermaid.initialize({startOnLoad:true});</script></body></html>